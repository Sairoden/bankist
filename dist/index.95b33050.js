!function(){const e=[{owner:"Sairoden Gandarosa",movements:[200,455.23,-306.5,25e3,-642.21,-133.9,79.97,1300],interestRate:1.2,pin:1111,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2021-03-18T17:01:17.194Z","2021-03-20T23:36:17.929Z","2021-03-24T10:51:36.790Z"],currency:"PHP",locale:"en-PH"},{owner:"Jessica Bowers",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2021-02-05T16:33:06.386Z","2021-03-20T14:43:26.374Z","2021-03-24T18:49:59.371Z","2021-03-25T12:01:20.894Z"],currency:"GBP",locale:"en-GB"}],t=document.querySelector(".welcome"),n=document.querySelector(".date"),r=document.querySelector(".balance__value"),o=document.querySelector(".summary__value--in"),a=document.querySelector(".summary__value--out"),c=document.querySelector(".summary__value--interest"),u=document.querySelector(".timer"),m=document.querySelector(".app"),l=document.querySelector(".movements"),s=document.querySelector(".login__btn"),i=document.querySelector(".form__btn--transfer"),v=document.querySelector(".form__btn--loan"),d=document.querySelector(".form__btn--close"),y=document.querySelector(".btn--sort"),_=document.querySelector(".login__input--user"),p=document.querySelector(".login__input--pin"),f=document.querySelector(".form__input--to"),S=document.querySelector(".form__input--amount"),T=document.querySelector(".form__input--loan-amount"),q=document.querySelector(".form__input--user"),w=document.querySelector(".form__input--pin"),D=function(e,t,n){return new Intl.NumberFormat(t,{style:"currency",currency:n}).format(e)},h=(e,t=!1)=>{l.innerHTML="";(t?e.movements.slice().sort(((e,t)=>e-t)):e.movements).forEach(((t,n)=>{const r=t>0?"deposit":"withdrawal",o=`\n    <div class="movements__row">\n      <div class="movements__type movements__type--${r}">${n+1} ${r}</div>\n    <div class="movements__date">${((e,t)=>{const n=(r=new Date,o=e,Math.round(Math.abs(o-r)/864e5));var r,o;return 0===n?"Today":1===n?"Yesterday":n<=7?`${n} days ago`:new Intl.DateTimeFormat(t).format(e)})(new Date(e.movementsDates[n]),e.locale)}</div>\n      <div class="movements__value">${D(t,e.locale,e.currency)}</div>\n    </div>\n    `;l.insertAdjacentHTML("afterbegin",o)}))};e.forEach((e=>{e.username=e.owner.toLowerCase().split(" ").map((e=>e[0])).join("")}));const Z=e=>{h(e),(e=>{e.balance=e.movements.reduce(((e,t)=>e+t),0),r.textContent=D(e.balance,e.locale,e.currency)})(e),(e=>{const t=e.movements.filter((e=>e>0)).reduce(((e,t)=>e+t),0);o.textContent=D(t,e.locale,e.currency);const n=e.movements.filter((e=>e<0)).reduce(((e,t)=>e+t),0);a.textContent=D(Math.abs(n),e.locale,e.currency);const r=e.movements.filter((e=>e>0)).map((t=>t*e.interestRate/100)).filter((e=>e>=1)).reduce(((e,t)=>e+t),0);c.textContent=D(r,e.locale,e.currency)})(e)},b=function(){const e=function(){const e=String(Math.trunc(n/60)).padStart(2,0),o=String(n%60).padStart(2,0);u.textContent=`${e}:${o}`,0===n&&(clearInterval(r),t.textContent="Log in to get started",m.style.opacity=0),n--};let n=120;e();const r=setInterval(e,1e3);return r};let g,I;s.addEventListener("click",(r=>{if(r.preventDefault(),g=e.find((e=>e.username===_.value)),g?.pin===+p.value){t.textContent=`Welcome back, \n    ${g.owner.split(" ")[0]}`,m.style.opacity=100;const e=new Date,r={hour:"numeric",minute:"numeric",day:"numeric",month:"numeric",year:"numeric"};n.textContent=new Intl.DateTimeFormat(g.locale,r).format(e),p.value=_.value="",p.blur(),I&&clearInterval(I),I=b(),Z(g)}})),i.addEventListener("click",(t=>{t.preventDefault();const n=+S.value,r=e.find((e=>e.username===f.value));S.value=f.value="",n>0&&r&&g.balance>=n&&r.username!==g.username&&(g.movements.push(-n),r.movements.push(n),g.movementsDates.push((new Date).toISOString()),r.movementsDates.push((new Date).toISOString()),Z(g),clearInterval(I),I=b())})),v.addEventListener("click",(e=>{e.preventDefault();const t=Math.floor(T.value);T.value="",t>0&&g.movements.some((e=>e>=.1*t))&&setTimeout((function(){g.movements.push(t),g.movementsDates.push((new Date).toISOString()),Z(g),clearInterval(I),I=b()}),2500)})),d.addEventListener("click",(t=>{if(t.preventDefault(),q.value===g.username&&+w.value===g.pin){const t=e.findIndex((e=>e.username===g.username));e.splice(t,1),m.style.opacity=0}q.value=w.value=""}));let x=!1;y.addEventListener("click",(e=>{e.preventDefault(),h(g.movements,!x),x=!x}))}();
//# sourceMappingURL=index.95b33050.js.map
